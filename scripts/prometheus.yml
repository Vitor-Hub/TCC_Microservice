global:
  scrape_interval: 5s
  evaluation_interval: 5s

scrape_configs:
  # ======================
  # Microsservi√ßos (Spring Boot Actuator)
  # ======================
  - job_name: "apps"
    metrics_path: /actuator/prometheus
    static_configs:
      - targets: ["host.docker.internal:18081"]
        labels: { app: "user-ms" }
      - targets: ["host.docker.internal:18082"]
        labels: { app: "post-ms" }
      - targets: ["host.docker.internal:18083"]
        labels: { app: "like-ms" }
      - targets: ["host.docker.internal:18084"]
        labels: { app: "friendship-ms" }
      - targets: ["host.docker.internal:18085"]
        labels: { app: "comment-ms" }
      - targets: ["host.docker.internal:19000"]
        labels: { app: "gateway" }

  # ======================
  # Infra
  # ======================
  - job_name: "node"
    static_configs:
      - targets: ["node-exporter:9100"]

  - job_name: "cadvisor"
    static_configs:
      - targets: ["cadvisor:8080"]

  - job_name: "k6"
    static_configs:
      - targets: [ "host.docker.internal:9464" ]

